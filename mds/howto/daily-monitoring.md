Daily Monitoring eMagiz, a practical guide

Issue date: 01-05-2020
 
This document discusses the practical process of (daily) monitoring with the help of eMagiz and how you can best utilize this to stay in control of your complete environment.
The main idea behind (daily) monitoring in general and in eMagiz is to signal problems early on. By signaling problems as early as possible we can pro-actively take action before there is (any) business impact. Another benefit of (daily) monitoring is that you can use it as a feedback loop for further improvements to the integration that are running within the eMagiz busses on each environment.
To summarize, (daily) monitoring gives you:
-	A means to pro-actively take action to limit business impact as the result of how integrations work.
-	A feedback loop that can be harvested to learn from during the development of new integrations.


## Best practices
-	Determine the business impact of loss of data or downtime per integration / system. A useful tool is doing a risk analysis
-	Based on the risk analysis determine with which frequency a monitoring action should happen
-	Use the alerting that eMagiz provides you to help you in monitoring your integrations. For more information on how to set up effective alerting, see: Configuring Alerting in eMagiz
-	Create a feedback loop between the output of the monitoring and the development of new and existing integrations
-	Try to determine trends / causes of what goes wrong when looking at the bus environment from a broader perspective.
-	Whether or not you have a routine of (daily) monitoring always do a periodical health check to make sure that you stay in control of the eMagiz environment. For more information: How-to steps health check
-	Reserve periodically time to analyse at least the Production Environment. How much time is needed gravely depends on the size of your environment, aids you have at your control, the knowledge level of the person executing the daily monitoring and quality of alerting that is set up in advance. In practice we see that a daily monitoring takes roughly 15 – 30 minutes a day per check.
-	Use the list in which the most frequently seen error messages are listed to help you in determining the appropriate action(s). The list can be found here

##How-to steps (daily) monitoring

Follow these steps carefully in order to acquire the desired result. 
General
1.	Navigate to the tooling you are using to record the alerting that is generated by eMagiz. This could be the eMagiz portal itself but could also be any external tooling that makes use of the API eMagiz offers to read the alert data from the portal.
2.	Check for open alerts in the dashboard of your choice
3.	Interpret each alert and couple an action to the alert (i.e. what do you or someone else need to do to make sure this alert can be closed and ideally won’t happen again in the future)

## Using eMagiz as the tool to support (daily) monitoring
1.	Navigate to Manage -> Alerting -> Alerts
2.	Navigate to the Alert you have checked last
3.	Control each single Alert and determine which actions needs to be taken. Any of the below could be the case
a.	No action needed. No further action is needed for this Alert, continue with the next alert. For more information on determining if an action is needed see How-to steps determining if action is needed
b.	Incident, repair action needed. See How-to steps dealing with an Incident
c.	Optimization, development as part of Life Cycle Management is needed. See How-to steps Optimizing integrations
d.	False positive, Alerting needs to be changed. See Configuring Alerting in eMagiz on how you can effectively change your alerting
4.	Work your way through the list alert by alert till you have reached the first alert in the eMagiz Alerts overview

## How-to steps determining if action is needed
1.	Look for patterns within the alerting
2.	See if alerts have the same root cause. An example could be when you get an alert that a runtime is down and at roughly the same time an alert that certain exits don’t have a consumer anymore. In 99% of cases both alerts have the same root cause. In this case the fact that the runtime is not running anymore.
3.	If alert has the same root cause as other alerts don’t create a new ticket for each alert but consolidate the alerts in one ticket in which you then have the option to give more information to the party involved in fixing the problem.

## How-to steps dealing with an Incident
1.	Determine the priority of the Incident in accordance with the business
2.	Determine the right person / people to solve the Incident. For a more functional problem you could best enlist someone in from the DevOps team whereas a more technical problem might be better dealt with by technical support (if such exists within your organization).
3.	Log the Incident
4.	Keep the business informed of the progress of the ticket
5.	Deploy the solution that solves the issues to Acceptance
6.	Test the solution in accordance with the business
7.	Deploy the solution that solves the issues to Production, after accordance with the business
8.	Close the Incident

## How-to steps Optimizing integrations
1.	Log the observation of what could be optimized
2.	Make sure this optimization lands in the backlog of the (devops) team 
3.	(devops) team implements this optimization, in accordance with the PO, in one of their upcoming sprints. When it will be developed determines on priority given by the PO
4.	Deploy the solution that solves the issues to Acceptance
5.	Test the solution
6.	Deploy the solution that solves the issues to Production, after accordance with the business owner
7.	Close the Incident

	
## How-to steps health check
1.	Choose a suitable format in which you want to represent the health check to the business. Examples are a dashboard in a tool, a word document and Excel documents.
2.	Navigate to Manage -> Data usage -> History
3.	Note actual numbers and trends on Error Messages and Logging Events. 
a.	Error Messages. This way you can see whether Error Messages become more or less apparent since the last time you have executed the health check
b.	Logging Events. These are separated in Info, Warning and Error. For a health check the last two are interesting (Warning and especially Error). Once again this could be used for trend analysis
4.	Navigate to Manage -> Error Messages
5.	See if you can determine actions that need a follow up. See Using eMagiz as the tool to support (daily) monitoring for more information
6.	Navigate to Manage -> Log Entries
7.	See if you can determine actions that need a follow up. See Using eMagiz as the tool to support (daily) monitoring for more information
8.	Navigate to Manage -> Runtime Statistics
9.	Check, per runtime, the following thing
a.	CPU (top left graph) performance. If it is relatively stable and low this is good. Large peaks especially towards 100% could indicate problems
b.	Heap memory usage (bottom left graph) performance. If it is relatively stable and below the limit (the black line) the performance is good. If the limit is reached often this is an indication of problems.
10.	Navigate to Deploy -> Architecture
11.	Check whether the advised sizing (on the left) and the configured (sizing) on the right are still in sync
a.	If yes, no further action needed
b.	If no, discuss further actions with those whom it is relevant for
12.	Present your findings in one 
13.	Present your findings in one dashboard / overview to the business / customer.
